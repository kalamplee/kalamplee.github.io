---
layout: default
---

<!-- Bio Section -->
<section class="pt-6 pb-2 relative overflow-hidden">
    <div class="container mx-auto px-6 max-w-7xl relative z-10">
        <div class="flex flex-col md:flex-row items-start gap-8 lg:gap-12">
            <!-- Left: Image -->
            <div class="w-full md:w-1/5 flex justify-center animate-fade-in px-4">
                <div
                    class="bg-white p-2 pb-6 shadow-2xl rotate-3 hover:rotate-[-2deg] hover:scale-110 transition-all duration-500 ease-out w-fit mx-auto cursor-pointer">
                    <img src="{{ site.data.profile.image | relative_url }}" alt="Profile"
                        class="w-full max-w-[160px] md:max-w-[200px] h-auto block bg-black">
                </div>
            </div>

            <!-- Right: Content -->
            <div class="w-full md:w-2/3 animate-fade-in-up md:pt-2 text-center md:text-left">
                <div class="flex flex-col md:flex-row items-center md:items-end gap-2 mb-4">
                    <h1 class="text-3xl md:text-5xl font-bold text-accent leading-none">
                        {{ site.data.profile.name }}
                    </h1>
                </div>

                <!-- Roles Badges with Collapse/Expand -->
                <div class="mb-4 relative">
                    <div id="roles-container" class="overflow-hidden transition-all duration-500 ease-in-out"
                        style="max-height: 52px;">
                        <div class="flex flex-wrap gap-2">
                            {% for role in site.data.profile.roles %}
                            <span
                                class="px-3 py-1 bg-primary-text/10 border border-primary-text/20 rounded-lg text-primary-text text-sm whitespace-nowrap">
                                {{ role }}
                            </span>
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Gradient overlay when collapsed -->
                    <div id="roles-gradient"
                        class="absolute bottom-6 left-0 right-0 h-8 bg-gradient-to-t from-primary-bg to-transparent pointer-events-none transition-opacity duration-300">
                    </div>

                    <!-- Chevron button -->
                    <button id="roles-toggle" onclick="toggleRoles()"
                        class="w-full flex items-center justify-center pt-2 text-primary-text/50 hover:text-accent transition-colors duration-300">
                        <i data-lucide="chevron-down" id="roles-chevron"
                            class="w-5 h-5 transition-transform duration-300"></i>
                    </button>
                </div>

                <script>
                    let rolesExpanded = false;

                    function toggleRoles() {
                        const container = document.getElementById('roles-container');
                        const gradient = document.getElementById('roles-gradient');
                        const chevron = document.getElementById('roles-chevron');

                        if (rolesExpanded) {
                            // Collapse
                            container.style.maxHeight = '52px';
                            gradient.style.opacity = '1';
                            chevron.style.transform = 'rotate(0deg)';
                        } else {
                            // Expand
                            container.style.maxHeight = container.scrollHeight + 'px';
                            gradient.style.opacity = '0';
                            chevron.style.transform = 'rotate(180deg)';
                        }

                        rolesExpanded = !rolesExpanded;
                    }
                </script>

                <!-- Tabs Navigation: Archive Style -->
                <!-- Tabs Navigation: Archive Style -->
                <div id="tabs-container"
                    class="overflow-x-auto scrollbar-hide pb-1 cursor-grab active:cursor-grabbing w-full"
                    style="-ms-overflow-style: none; scrollbar-width: none;">
                    <div class="flex gap-1 relative z-20 w-max">
                        <button id="btn-bio" onclick="toggleSection('bio')"
                            class="px-4 py-3 md:py-2 rounded-t-xl border-t border-x border-primary-text/10 bg-primary-text/5 transition-all duration-300 flex items-center gap-2 text-primary-text/50 whitespace-nowrap select-none">
                            <i data-lucide="user" class="w-4 h-4"></i>
                            <span class="text-sm font-bold uppercase tracking-wider"
                                data-i18n="home.tabs.bio">เรื่องชาวบ้าน</span>
                        </button>

                        <button id="btn-lang" onclick="toggleSection('lang')"
                            class="px-4 py-3 md:py-2 rounded-t-xl border-t border-x border-primary-text/10 bg-primary-text/5 transition-all duration-300 flex items-center gap-2 text-primary-text/50 whitespace-nowrap select-none">
                            <i data-lucide="languages" class="w-4 h-4"></i>
                            <span class="text-sm font-bold uppercase tracking-wider"
                                data-i18n="home.tabs.lang">ภาษา</span>
                        </button>

                        <button id="btn-edu" onclick="toggleSection('edu')"
                            class="px-4 py-3 md:py-2 rounded-t-xl border-t border-x border-primary-text/10 bg-primary-text/5 transition-all duration-300 flex items-center gap-2 text-primary-text/50 whitespace-nowrap select-none">
                            <i data-lucide="graduation-cap" class="w-4 h-4"></i>
                            <span class="text-sm font-bold uppercase tracking-wider"
                                data-i18n="home.tabs.edu">สติปัญญา</span>
                        </button>
                    </div>
                </div>

                <script>
                    (function () {
                        const container = document.getElementById('tabs-container');
                        if (!container) return;

                        // Mouse wheel scroll
                        container.addEventListener('wheel', (e) => {
                            if (e.deltaY !== 0) {
                                e.preventDefault();
                                container.scrollLeft += e.deltaY;
                            }
                        }, { passive: false });

                        // Drag to scroll
                        let isDown = false;
                        let startX;
                        let scrollLeft;

                        container.addEventListener('mousedown', (e) => {
                            isDown = true;
                            startX = e.pageX - container.offsetLeft;
                            scrollLeft = container.scrollLeft;
                        });

                        container.addEventListener('mouseleave', () => {
                            isDown = false;
                        });

                        container.addEventListener('mouseup', () => {
                            isDown = false;
                        });

                        container.addEventListener('mousemove', (e) => {
                            if (!isDown) return;
                            e.preventDefault();
                            const x = e.pageX - container.offsetLeft;
                            const walk = (x - startX) * 2;
                            container.scrollLeft = scrollLeft - walk;
                        });
                    })();
                </script>

                <!-- Shared Content Display Area (Archive Folder Body) -->
                <div id="details-container"
                    class="overflow-hidden bg-primary-text/5 rounded-b-2xl rounded-tr-2xl border border-primary-text/10 text-left -mt-px relative z-10"
                    style="transition: height 0.5s ease-in-out;">
                    <div class="p-6 relative">
                        <!-- Placeholder Content (Shown when nothing is selected) -->
                        <div id="section-placeholder"
                            class="flex flex-col items-center justify-center py-6 text-primary-text/20 animate-pulse">
                            <p class="text-xs uppercase tracking-widest font-bold" data-i18n="home.tabs.hint">
                                ลองกดข้างบนดูสิ!</p>
                        </div>

                        <!-- About Me Content -->
                        <div id="section-bio" class="hidden opacity-0 transition-opacity duration-300">
                            <ul
                                class="list-none grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-sm text-text-muted py-10">
                                {% if site.data.profile.full_name %}
                                <li class="border-l-2 border-accent/30 pl-3">
                                    <span class="text-accent/60 block text-[10px] uppercase"
                                        data-i18n="home.bio.full_name">ชื่อจริง</span>
                                    {{ site.data.profile.full_name }}
                                </li>
                                {% endif %}
                                {% if site.data.profile.nick_name %}
                                <li class="border-l-2 border-accent/30 pl-3">
                                    <span class="text-accent/60 block text-[10px] uppercase"
                                        data-i18n="home.bio.nickname">ชื่อเล่น</span>
                                    {{ site.data.profile.nick_name }}
                                </li>
                                {% endif %}
                                <li class="border-l-2 border-accent/30 pl-3">
                                    <span class="text-accent/60 block text-[10px] uppercase"
                                        data-i18n="home.bio.gender">เพศ</span>
                                    {{ site.data.profile.gender }}
                                </li>
                                <li class="border-l-2 border-accent/30 pl-3">
                                    <span class="text-accent/60 block text-[10px] uppercase"
                                        data-i18n="home.bio.nationality">สัญชาติ</span>
                                    {{ site.data.profile.nationality }}
                                </li>
                                <li class="border-l-2 border-accent/30 pl-3">
                                    <span class="text-accent/60 block text-[10px] uppercase"
                                        data-i18n="home.bio.age">อายุ</span>
                                    {{ site.data.profile.age }}
                                </li>
                                {% if site.data.profile.home_town %}
                                <li class="border-l-2 border-accent/30 pl-3">
                                    <span class="text-accent/60 block text-[10px] uppercase"
                                        data-i18n="home.bio.hometown">แหล่งกบดาน</span>
                                    {{ site.data.profile.home_town }}
                                </li>
                                {% endif %}
                            </ul>
                        </div>

                        <!-- Languages Content -->
                        <div id="section-lang" class="hidden opacity-0 transition-opacity duration-300">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                                <!-- Fluency -->
                                {% if site.data.profile.fluency_language %}
                                <div>
                                    <div class="text-[12px] uppercase tracking-widest text-primary-text/40 mb-2 border-b border-primary-text/10 pb-1"
                                        data-i18n="home.lang.fluent">คล่องแคล่ว</div>
                                    <div class="flex flex-wrap gap-2">
                                        {% for lang in site.data.profile.fluency_language %}
                                        <span
                                            class="px-2 py-1 bg-accent/5 rounded border border-accent/10 text-text-muted text-xs italic">{{
                                            lang }}</span>
                                        {% endfor %}
                                    </div>
                                </div>
                                {% endif %}

                                <!-- Intermediate -->
                                {% if site.data.profile.intermediate_language %}
                                <div>
                                    <div class="text-[12px] uppercase tracking-widest text-primary-text/40 mb-2 border-b border-primary-text/10 pb-1"
                                        data-i18n="home.lang.intermediate">ระดับกลาง</div>
                                    <div class="flex flex-wrap gap-2">
                                        {% for lang in site.data.profile.intermediate_language %}
                                        <span
                                            class="px-2 py-1 bg-accent/5 rounded border border-accent/10 text-text-muted text-xs italic">{{
                                            lang }}</span>
                                        {% endfor %}
                                    </div>
                                </div>
                                {% endif %}

                                <!-- Interested -->
                                {% if site.data.profile.interest_language %}
                                <div>
                                    <div class="text-[12px] uppercase tracking-widest text-primary-text/40 mb-2 border-b border-primary-text/10 pb-1"
                                        data-i18n="home.lang.interested">สนใจ / เรียนรู้</div>
                                    <div class="flex flex-wrap gap-2">
                                        {% for lang in site.data.profile.interest_language %}
                                        <span
                                            class="px-2 py-1 bg-primary-bg rounded border border-primary-text/10 text-text-muted/70 text-xs italic">{{
                                            lang }}</span>
                                        {% endfor %}
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Education Content -->
                        <div id="section-edu" class="hidden opacity-0 transition-opacity duration-300">
                            <ul class="list-none space-y-4">
                                {% for edu in site.data.profile.education %}
                                <li class="text-text-muted text-sm border-l-2 border-accent/30 pl-3 py-10">
                                    {{ edu }}
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>

                <script>
                    let currentActiveSection = null;
                    let isAnimating = false;

                    function updateTabStyles(activeId) {
                        const sections = ['bio', 'lang', 'edu'];
                        sections.forEach(s => {
                            const btn = document.getElementById('btn-' + s);
                            if (s === activeId) {
                                btn.classList.remove('text-primary-text/50', 'bg-primary-text/5');
                                btn.classList.add('text-accent', 'bg-primary-text/5', 'border-b-transparent');
                            } else {
                                btn.classList.remove('text-accent', 'border-b-transparent');
                                btn.classList.add('text-primary-text/50', 'bg-primary-text/5');
                            }
                        });
                    }

                    function getContentHeight(element) {
                        // Temporarily show element to measure height
                        const wasHidden = element.classList.contains('hidden');
                        const prevOpacity = element.style.opacity;
                        const prevPosition = element.style.position;
                        const prevVisibility = element.style.visibility;
                        const prevWidth = element.style.width;

                        element.classList.remove('hidden');
                        element.style.visibility = 'hidden';
                        element.style.position = 'absolute';
                        element.style.width = '100%'; // Force width to match container to verify text wrapping
                        element.style.opacity = '1';

                        const height = element.scrollHeight;

                        element.style.visibility = prevVisibility;
                        element.style.position = prevPosition;
                        element.style.opacity = prevOpacity;
                        element.style.width = prevWidth;
                        if (wasHidden) element.classList.add('hidden');

                        return height;
                    }

                    function toggleSection(id) {
                        if (isAnimating) return;
                        isAnimating = true;

                        const container = document.getElementById('details-container');
                        const innerPadding = 48; // p-6 = 24px * 2

                        // Hide current visible content
                        const currentId = currentActiveSection || 'placeholder';
                        const currentContent = document.getElementById('section-' + currentId);

                        // Determine target
                        const targetId = (currentActiveSection === id) ? 'placeholder' : id;
                        const targetContent = document.getElementById('section-' + targetId);

                        // Pre-calculate target height before any DOM changes
                        // Add 20px buffer to ensure no clipping at the bottom
                        const targetHeight = getContentHeight(targetContent) + innerPadding + 20;

                        // Step 1: Fade out current content
                        currentContent.style.opacity = '0';

                        setTimeout(() => {
                            // Step 2: Swap content (hidden states)
                            currentContent.classList.add('hidden');
                            targetContent.classList.remove('hidden');
                            targetContent.style.opacity = '0';

                            // Step 3: Animate height
                            container.style.height = targetHeight + 'px';
                            updateTabStyles(targetId === 'placeholder' ? null : targetId);

                            // Step 4: Fade in new content after height transition starts
                            requestAnimationFrame(() => {
                                requestAnimationFrame(() => {
                                    targetContent.style.opacity = '1';
                                });
                            });

                            // Step 5: Cleanup
                            setTimeout(() => {
                                currentActiveSection = (targetId === 'placeholder') ? null : targetId;
                                isAnimating = false;
                            }, 500);
                        }, 300);
                    }

                    // Initialize container height on page load
                    document.addEventListener('DOMContentLoaded', () => {
                        const placeholder = document.getElementById('section-placeholder');
                        const container = document.getElementById('details-container');
                        const innerPadding = 48;
                        container.style.height = (placeholder.scrollHeight + innerPadding) + 'px';
                    });
                </script>


            </div>
        </div>
    </div>
</section>

<!-- Anchor for the button -->
<div id="latest-blogs"></div>

<!-- Pinned Blogs Section -->
{% assign pinned_posts = site.posts | where: "pinned", true %}
{% if pinned_posts.size > 0 %}
<section class="py-10 md:py-16 relative">
    <div class="container mx-auto px-6 max-w-7xl">
        <!-- Mobile: Vertical Stack | Desktop: Grid -->
        <div
            class="relative max-w-3xl md:max-w-none mx-auto space-y-12 md:space-y-0 pb-24 md:pb-0 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-8">
            {% for post in pinned_posts %}
            {% assign rotation = forloop.index | modulo: 3 | minus: 1 | times: 1.5 %}
            {% assign offset = forloop.index | times: 15 %}
            {% assign hover_rotate = forloop.index | modulo: 2 | times: 2 | minus: 1 | times: 2 %} <!-- -2 or 2 -->

            <div class="group sticky md:static transition-none"
                style="top: {{ 120 | plus: offset }}px; z-index: {{ forloop.index }};">
                <div class="transform md:transform-none transition-transform duration-300 
                            shadow-[0_10px_30px_-5px_rgba(0,0,0,0.5)] md:shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]
                            hover:shadow-[0_0_30px_rgba(254,213,118,0.3)]
                            border border-accent/50 rounded-xl
                            hover:-translate-y-4 md:hover:-translate-y-3
                            hover:rotate-[{{ hover_rotate }}deg] relative z-20 group-hover:z-30"
                    style="transform: rotate({{ rotation }}deg);">
                    <!-- Glow effect background -->
                    <div
                        class="absolute -inset-1 bg-accent/20 blur-md opacity-0 group-hover:opacity-70 transition-opacity duration-500 rounded-xl -z-10">
                    </div>
                    <div class="bg-card-bg rounded-xl overflow-hidden h-full">
                        {% include blog-card.html post=post %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Latest Blogs Section -->
{% assign latest_posts = site.posts | where_exp: "post", "post.pinned != true" | sort: "date" | reverse | limit: 6 %}
<section class="min-h-[50vh]">
    <div class="container mx-auto px-6 max-w-7xl mb-16">
        <!-- Mobile: Vertical Stack | Desktop: Grid -->
        <div
            class="relative max-w-3xl md:max-w-none mx-auto space-y-12 md:space-y-0 pb-24 md:pb-0 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-8">
            {% for post in latest_posts %}
            {% assign rotation = forloop.index | modulo: 3 | minus: 1 | times: 1.5 %}
            {% assign offset = forloop.index | times: 15 %}
            {% assign hover_rotate = forloop.index | modulo: 2 | times: 2 | minus: 1 | times: 2 %}

            <div class="group sticky md:static transition-none"
                style="top: {{ 120 | plus: offset }}px; z-index: {{ forloop.index }};">
                <div class="transform md:transform-none transition-transform duration-300 shadow-xl md:shadow-none md:hover:shadow-lg
                            hover:-translate-y-4 md:hover:-translate-y-2
                            hover:rotate-[{{ hover_rotate }}deg]" style="transform: rotate({{ rotation }}deg);">
                    {% include blog-card.html post=post %}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-24 md:mt-16 relative z-50">
            <a href="{{ '/blogs.html' | relative_url }}"
                class="btn btn-primary text-lg px-10 py-4 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all">
                <div class="flex items-center gap-2"><i data-lucide="sticky-note"></i> <span
                        data-i18n="home.view_all_blogs">ดูบล็อกทั้งหมด</span></div>
            </a>
        </div>
    </div>
</section>