<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="description"
        content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">

    <link rel="icon" type="image/png" href="{{ '/images/kalam-logo.png' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Noto+Serif+JP:wght@100..900&display=swap"
        rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        [data-lucide] {
            /* fill: currentColor; */
            stroke-width: 1px;
        }

        /* Font Configuration */
        body {
            font-family: 'Noto Serif', 'Noto Serif JP', serif !important;
        }

        html[data-lang="th"] body {
            font-family: 'K2D', sans-serif !important;
        }
    </style>

    {% seo %}
    {% feed_meta %}

    <!-- Language Translations Data -->
    <script>
        window.siteTranslations = {
            th: {{ site.data.i18n.th | jsonify }},
        en: {{ site.data.i18n.en | jsonify }},
        ja: {{ site.data.i18n.ja | jsonify }},
        la: {{ site.data.i18n.la | jsonify }},
        tok: {{ site.data.i18n.tok | jsonify }},
        grc: {{ site.data.i18n.grc | jsonify }}
        };
        window.siteLangConfig = {{ site.data.languages.languages | jsonify }};
        window.siteDefaultLang = '{{ site.data.languages.default | default: "th" }}';
    </script>
</head>

<body>
    {% if page.show_nav != false %}
    {% include navigation.html %}
    {% endif %}

    <main>
        {{ content }}
    </main>

    <footer class="py-12 border-t border-primary-text/10 bg-primary-bg">
        <div class="container mx-auto px-6 text-center">
            <div class="flex flex-col items-center gap-4">
                <a href="mailto:watcharawee.sripiboon@gmail.com"
                    class="flex flex-wrap justify-center items-center gap-2 text-text-muted hover:text-accent transition-colors">
                    <i data-lucide="mail" class="w-5 h-5"></i>
                    <span>watcharawee.sripiboon@gmail.com</span>
                </a>
                <p class="text-text-muted/50 text-sm">Â© {{ 'now' | date: "%Y" }} Kalampl.ee. All rights reserved.</p>
            </div>
        </div>
    </footer>

    {% if page.custom_js %}
    <script src="{{ '/assets/js/' | append: page.custom_js | relative_url }}"></script>
    {% endif %}

    <!-- Anime.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <!-- Initialize Lucide Icons -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            lucide.createIcons();
        });
    </script>

    <!-- Custom Animations -->
    <script src="{{ '/assets/js/animations.js' | relative_url }}"></script>

    <!-- Language Switcher -->
    <script src="{{ '/assets/js/lang.js' | relative_url }}"></script>
</body>

</html>